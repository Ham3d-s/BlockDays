import{r as s,j as e}from"./index-j7YiF50A.js";import{f as L}from"./api-CuwL_8Yg.js";import{C as f,a as v}from"./chevron-right-CGJVktCt.js";import{c as E}from"./createLucideIcon-BS42huTJ.js";import{X as z}from"./x-BR_yMq3K.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=E("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),R=()=>{const[N,k]=s.useState([]),[a,w]=s.useState([]),[b,h]=s.useState(!0),[C,I]=s.useState(""),[u,p]=s.useState("all"),[m,y]=s.useState(!1),[r,d]=s.useState(0);s.useEffect(()=>{(async()=>{try{h(!0);const o=(await L("gallery.json")).filter(x=>x.type==="image"||!x.url.endsWith(".mp4")&&!x.type);k(o),w(o)}catch(l){console.error("Failed to load image gallery:",l),I("خطا در بارگذاری تصاویر")}finally{h(!1)}})()},[]);const j=t=>{d(t),y(!0)},i=()=>{y(!1)},n=()=>{d(t=>t===a.length-1?0:t+1)},c=()=>{d(t=>t===0?a.length-1:t-1)},g=s.useCallback(t=>{if(m)switch(t.key){case"Escape":i();break;case"ArrowLeft":n();break;case"ArrowRight":c();break}},[m,n,c,i]);return s.useEffect(()=>(window.addEventListener("keydown",g),()=>{window.removeEventListener("keydown",g)}),[g]),N.length===0&&!b||C?null:b?e.jsx("section",{id:"gallery",className:"py-20 bg-base-200",children:e.jsx("div",{className:"container mx-auto px-4 text-center",children:e.jsx("div",{className:"loading loading-spinner loading-lg"})})}):e.jsxs("section",{id:"gallery",className:"py-20 bg-base-200 scroll-animate",children:[e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-8",children:"گالری تصاویر"}),e.jsx("div",{className:"flex justify-center mb-12",children:e.jsxs("div",{className:"join",children:[e.jsx("button",{className:`btn join-item ${u==="all"?"btn-primary":"btn-ghost"}`,onClick:()=>p("all"),children:"همه"}),e.jsx("button",{className:`btn join-item ${u==="images"?"btn-primary":"btn-ghost"}`,onClick:()=>p("images"),children:"تصاویر"})]})}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("button",{id:"gallery-btn-prev",className:"btn btn-circle btn-sm",onClick:c,"aria-label":"تصویر قبلی",children:e.jsx(f,{size:18})}),e.jsx("div",{id:"gallery-dots",className:"flex space-x-1 rtl:space-x-reverse",children:a.map((t,l)=>e.jsx("button",{className:`w-2 h-2 rounded-full ${r===l?"bg-primary":"bg-gray-400"}`,onClick:()=>j(l),"aria-label":`تصویر ${l+1}`},l))}),e.jsx("button",{id:"gallery-btn-next",className:"btn btn-circle btn-sm",onClick:n,"aria-label":"تصویر بعدی",children:e.jsx(v,{size:18})})]}),e.jsx("div",{className:"gallery-masonry grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:a.map((t,l)=>e.jsxs("div",{className:"relative overflow-hidden rounded-lg group cursor-pointer",onClick:()=>j(l),children:[e.jsx("img",{src:t.thumbnail||t.url,alt:t.title,className:"w-full h-auto object-cover transition-transform group-hover:scale-110",onError:o=>{o.target.src="/images/placeholder.svg"}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("div",{className:"p-2 bg-primary bg-opacity-90 rounded-full",children:e.jsx(S,{size:20,className:"text-white"})})})]},t.id))})]}),m&&a.length>0&&e.jsx("div",{id:"gallery-lightbox",className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center p-4",onClick:i,children:e.jsxs("div",{className:"relative max-w-4xl max-h-[90vh]",onClick:t=>t.stopPropagation(),children:[e.jsx("button",{className:"absolute top-2 right-2 z-10 btn btn-circle btn-sm bg-base-100 bg-opacity-50",onClick:i,children:e.jsx(z,{size:18})}),e.jsx("button",{className:"absolute top-1/2 right-2 transform -translate-y-1/2 btn btn-circle bg-base-100 bg-opacity-50",onClick:t=>{t.stopPropagation(),c()},children:e.jsx(f,{size:24})}),e.jsx("button",{className:"absolute top-1/2 left-2 transform -translate-y-1/2 btn btn-circle bg-base-100 bg-opacity-50",onClick:t=>{t.stopPropagation(),n()},children:e.jsx(v,{size:24})}),e.jsx("img",{id:"lightbox-image",src:a[r].url,alt:a[r].title,className:"max-w-full max-h-[85vh] object-contain mx-auto"}),e.jsxs("div",{className:"text-center mt-4 text-white",children:[e.jsx("h3",{className:"text-lg font-bold",children:a[r].title}),e.jsx("p",{className:"text-sm opacity-80",children:a[r].description})]})]})})]})};export{R as default};
